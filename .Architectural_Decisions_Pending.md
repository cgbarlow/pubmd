# Outstanding Architectural Decisions

This document lists key architectural decisions that need to be addressed for the Markdown to PDF Converter project, based on the current `README.md` and `.Business_Requirements.md`. Dependencies between decisions are noted.

## Phase 1: Architectural Evolution

### 1. Componentization of Core Logic
*   **Decision:** How will the core JavaScript logic, particularly PDF generation, be refactored into separate, reusable components?
    *   **Considerations:**
        *   Granularity of components (e.g., Markdown parsing, HTML rendering, PDF styling, PDF generation).
        *   Clear definition of interfaces and contracts for each component.
        *   Technology/patterns for componentization (e.g., ES modules, classes, micro-libraries).
        *   How will these components interact and manage data flow?
    *   **Dependencies:**
        *   **Influences:** Decision 2 (Dual Version Strategy & CLI Development, especially code sharing), Decision 3 (.docx Export Option integration), General Considerations (Testing Strategy, Dependency Management).
        *   This is a foundational decision.

### 2. Dual Version Strategy & CLI Development
*   **Decision A:** What is the technology stack and structure for the new Linux shell-based CLI version?
    *   **Considerations:**
        *   Primary programming language/runtime for the CLI (e.g., Node.js to maximize JavaScript reuse, Python, Go, Rust).
        *   Mechanism for code sharing and reuse between the existing web version and the new CLI version. How will common components be managed and accessed by both?
        *   Definition of command-line arguments, options, and output behavior for the CLI.
        *   Error handling and logging strategy for the CLI.
    *   **Dependencies:**
        *   **Influenced by:** Decision 1 (Componentization - for code reuse strategy).
        *   **Influences:** Decision 2B (CLI Packaging/Distribution), General Considerations (Testing Strategy, Dependency Management).

*   **Decision B:** How will the CLI version be packaged and distributed for easy installation in a bash shell environment?
    *   **Considerations:**
        *   Choice of packaging manager/method (e.g., npm for Node.js, pip for Python, system package managers like apt/yum, standalone binaries).
        *   Ensuring the command becomes globally available or easily added to the user's PATH.
        *   Cross-platform compatibility considerations if Linux is the initial target but others might follow.
    *   **Dependencies:**
        *   **Influenced by:** Decision 2A (Technology stack for CLI).

## Phase 3: Feature Enhancements (Future Investigation)

### 3. Microsoft Word (.docx) Export Option
*   **Decision (Post-Investigation):** If pursued, what is the chosen approach and technology for generating .docx files from Markdown?
    *   **Considerations:**
        *   Selection of suitable libraries or tools for .docx creation (e.g., Pandoc, dedicated .docx libraries for the chosen language).
        *   How will this new export functionality integrate with the componentized architecture?
        *   Mapping Markdown features to Word document elements.
        *   Handling of complex elements like tables, images, and Mermaid diagrams in .docx format.
    *   **Dependencies:**
        *   **Influenced by:** Decision 1 (Componentization - for ease of integration).
        *   The choice of .docx library might be influenced by Decision 2A (Technology stack for CLI) if a consistent ecosystem is desired.

## General Considerations (Implicit)

### 4. Testing Strategy
*   **Decision:** How will the componentized logic and both the web and CLI interfaces be tested?
    *   **Dependencies:**
        *   **Influenced by:** Decision 1 (Componentization), Decision 2A (Technology stack for CLI).

### 5. Dependency Management
*   **Decision:** How will external libraries (e.g., `marked.js`, `jsPDF`, `CodeMirror`) and internal components be managed across both versions?
    *   **Dependencies:**
        *   **Influenced by:** Decision 1 (Componentization), Decision 2A (Technology stack for CLI), and potentially Decision 3 (libraries for .docx export).